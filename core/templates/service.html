<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, ">
    <title>{{name}}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style type="text/tailwindcss">
        @tailwind base;
        @tailwind components;
        @tailwind utilities;
        
        @layer base {
          html {
            font-family:  'Comic Sans', system-ui, sans-serif; 
          }
        }
    </style>
    <script src="/static/canvasjs.3.js"></script>
</head>

<body>

    <div class="absolute md:w-full min-w-screen  flex bg-indigo-100">
        <div class="grow h-full"></div>
        <div class="shrink flex flex-col w-full min-h-screen max-w-screen-xl">
            <div class="shrink flex w-full sticky top-0 px-2 z-50">
                <!--Header-->
                <div class="rounded-lg bg-white mt-4 shadow-xl p-2 w-full flex">
                    <div class="shrink flex">
                        <a href="/">
                        <div class="flex py-2 px-4 rounded-lg hover:bg-gray-100 cursor-pointer duration-100 text-gray-800 font-medium">     
                            <svg viewBox="0 0 217 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 place-self-center hidden">
                                <path d="M0 8.21277C0 5.86262 1.90999 3.95745 4.26608 3.95745H23.4635C25.8195 3.95745 27.7295 5.86262 27.7295 8.21277V27.3617C27.7295 29.7119 25.8195 31.617 23.4635 31.617H4.26608C1.90999 31.617 0 29.7119 0 27.3617V8.21277Z" fill="black"/>
                                <path d="M41.7223 31.617H54.3072V29.5319L51.2783 29.3192L50.6384 28.6383V20.9787C52.2169 21.0638 52.8994 21.1064 53.454 21.1064C54.6912 21.1064 58.7866 21.0638 61.6022 18.766C64.1619 16.6809 64.7165 13.8298 64.7165 11.4043C64.7165 7.19149 63.2234 3.06383 53.0701 3.06383H41.5517V5.14894L44.3673 5.3617L45.0072 5.95745V28.6383L44.2393 29.3192L41.7223 29.5319V31.617ZM50.6384 5.48936H52.8568C54.2646 5.48936 55.843 5.74468 57.1229 6.97872C58.616 8.42553 58.8293 10.4255 58.8293 11.8723C58.8293 13.3191 58.616 15.4043 57.1655 16.8936C55.6724 18.4255 53.582 18.6383 52.1742 18.6383C51.6623 18.6383 51.0224 18.5957 50.6384 18.5532V5.48936Z" fill="black"/>
                                <path d="M66.7615 31.617H78.5359V29.7021L75.507 29.4894L74.8671 28.8936V16.6809C75.6777 16.1277 77.0001 15.4468 78.1093 15.4468C79.3465 15.4468 80.2424 16.3404 80.669 17.0213H82.8873L83.4419 11.1489C83.058 10.9787 82.546 10.7234 82.2048 10.6383C81.8208 10.5532 81.1809 10.4255 80.7543 10.4255C80.3703 10.4255 79.8158 10.5106 79.6878 10.5106C78.7919 11.1489 76.9148 12.5532 74.6964 14.8511L74.8671 10.5106H72.8194L66.5482 12.5106V14.2128H69.6198V28.8936L69.0226 29.4894L66.7615 29.7021V31.617Z" fill="black"/>
                                <path d="M104.552 26.3404C101.395 28.2979 99.0485 28.6383 97.5553 28.6383C91.8814 28.6383 90.6443 24.2979 90.6443 20.766H104.594C104.594 16.2979 103.613 10.383 95.8062 10.383C92.1374 10.383 89.7911 11.8298 88.4686 13.0638C86.4635 14.9787 85.1837 17.8723 85.1837 21.3617C85.1837 25.3617 86.8048 27.7872 88.042 29.0638C89.5351 30.5957 91.9668 32 95.8062 32C99.6031 32 102.76 30.5106 104.552 29.4894V26.3404ZM90.8576 18.5106C90.8576 14.766 93.2039 12.6809 95.2943 12.6809C97.3847 12.6809 99.0058 14.6809 99.0058 18.1702V18.5106H90.8576Z" fill="black"/>
                                <path d="M122.572 3.87234V10.766C121.335 10.5532 119.885 10.383 118.733 10.383C113.485 10.383 107.556 13.234 107.556 21.7872C107.556 28.2128 111.48 32 115.832 32C118.349 32 120.61 30.6809 122.572 29.234V31.617H130.592V29.7021L128.417 29.4894L127.82 28.8936V0.170213H125.772L119.458 2.17021V3.87234H122.572ZM122.572 27.5745C120.866 28.2553 119.757 28.383 119.159 28.383C114.381 28.383 113.272 24.4255 113.272 20.8936C113.272 16.6809 114.851 12.6809 119.415 12.6809C120.439 12.6809 121.164 12.9362 122.572 13.3617V27.5745Z" fill="black"/>
                                <path d="M132.585 31.617H145.17V29.5319L142.141 29.3192L141.501 28.6383V20.9787C143.079 21.0638 143.762 21.1064 144.317 21.1064C145.554 21.1064 149.649 21.0638 152.465 18.766C155.024 16.6809 155.579 13.8298 155.579 11.4043C155.579 7.19149 154.086 3.06383 143.933 3.06383H132.414V5.14894L135.23 5.3617L135.87 5.95745V28.6383L135.102 29.3192L132.585 29.5319V31.617ZM141.501 5.48936H143.719C145.127 5.48936 146.706 5.74468 147.985 6.97872C149.479 8.42553 149.692 10.4255 149.692 11.8723C149.692 13.3191 149.479 15.4043 148.028 16.8936C146.535 18.4255 144.445 18.6383 143.037 18.6383C142.525 18.6383 141.885 18.5957 141.501 18.5532V5.48936Z" fill="black"/>
                                <path d="M157.624 31.617H169.398V29.7021L166.37 29.4894L165.73 28.8936V16.6809C166.54 16.1277 167.863 15.4468 168.972 15.4468C170.209 15.4468 171.105 16.3404 171.532 17.0213H173.75L174.305 11.1489C173.921 10.9787 173.409 10.7234 173.067 10.6383C172.683 10.5532 172.043 10.4255 171.617 10.4255C171.233 10.4255 170.678 10.5106 170.55 10.5106C169.654 11.1489 167.777 12.5532 165.559 14.8511L165.73 10.5106H163.682L157.411 12.5106V14.2128H160.482V28.8936L159.885 29.4894L157.624 29.7021V31.617Z" fill="black"/>
                                <path d="M187.223 10.383C181.294 10.383 176.046 13.4894 176.046 21.2766C176.046 28.6809 180.952 32 186.839 32C191.532 32 197.803 29.7872 197.803 21.1915C197.803 16.8085 195.926 14.2128 194.39 12.8936C192.727 11.4468 190.338 10.383 187.223 10.383ZM186.882 12.6809C191.148 12.6809 191.916 18.8936 191.916 21.2766C191.916 24.1277 191.02 29.7021 186.882 29.7021C182.872 29.7021 181.933 24.1702 181.933 21.1489C181.933 18.0851 182.531 16.2979 183.085 15.1915C183.597 14.2128 184.664 12.6809 186.882 12.6809Z" fill="black"/>
                                <path d="M200.746 31.617H212.265V29.7021L209.406 29.4894L208.724 28.8936V14H214.44V11.4468H208.724V8.89362C208.724 5.02128 209.364 3.40425 210.388 2.08511L214.526 5.74468C215.72 5.40425 217 4.6383 217 3.06383C217 0.851063 214.739 0 212.99 0C210.43 0 208.425 1.23404 207.103 2.38298C204.074 5.02128 203.477 8.46809 203.477 10.8511V11.1064L200.704 12.383V14H203.477V28.8936L202.879 29.4894L200.746 29.7021V31.617Z" fill="black"/>
                            </svg>      
                            <img src="/static/logo.png" class="rounded w-48 place-self-center">
                        </div></a>
                    </div>
                    <div class="grow flex w-full">
                        <form action="/search/" method="POST" class="flex mx-auto w-auto">
                        
                            <button class="hover:text-neutral-500" type="submit" value="" >
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 place-self-center mr-2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                            </svg></button>
                            
                            {% csrf_token %}
                            <input name="search" autocomplete="off" class="flex mx-auto py-2 px-2  rounded-lg w-80  hover:bg-gray-100 cursor-pointer duration-100 text-gray-600 outline-0 placeholder:px-1 " placeholder="Поиск среди {servicesCounterValue} ВУЗов"/>
                        </form>  
                                     
                        
                        
                    </div>
                    {% if not user.is_authenticated %}
                    <a href="/login/">
                    <div class="shrink flex">
                        <div class="flex py-2 px-4 rounded-lg hover:bg-gray-100 cursor-pointer duration-100 text-gray-800 font-medium">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 place-self-center mr-2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>                  
                            <p>
                                Авторизация
                            </p>          
                        </div>       
                    </div></a>
                    {% elif user.is_authenticated and user.is_confirmed%}
                    <a href="/account/">
                        <div class="shrink flex">
                            <div class="flex py-2 px-4 rounded-lg hover:bg-gray-100 cursor-pointer duration-100 text-gray-800 font-medium">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 place-self-center mr-2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>                  
                                <p>
                                    {{user}}
                                </p>          
                            </div>       
                        </div></a>                    
                    {%endif%}
                </div>
            </div>
            <div class="col-span-2 row-span-5">
                <!--List-->
                
                    <div class="bg-white shadow-xl rounded-xl h-auto p-6 m-4 z-0 hover:shadow-4xl  grid sm:grid-cols-2">
                        
                        <div class=" flex flex-col">
                            <img class="w-48 h-20 object-contain object-left rounded mb-1"  src="{{image}}">
                            <span class="text-2xl font-serif mb-4">{{name}}</span>
                        </div>


                        <div class=" flex flex-col">
                            <div class="hidden md:flex h-full justify-end mb-4">
                                <a href="{{url}}">
                                <button class="bg-gray-900 hover:bg-gray-700 duration-100 ease-out rounded-full py-2 px-6 text-gray-200 flex place-self-end relative">Перейти на сайт
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 ml-2 place-self-center">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path>
                                    </svg>
                                </button>
                                </a>
                            </div>
                        <div class="p-3 border border-gray-200 rounded-lg hover:shadow-lg hover:cursor-pointer duration-100">
                                <div class="flex -space-x-3 text-amber-500 mb-1">
                                    {%for f in buckets%}
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                                        <path stroke="white" fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd"></path></svg> 
                                    {%endfor%}
                                    
                                </div> 
                                <span class="font-semibold">{{score}} звезды</span> 
                                <div class="flex text-gray-600 mt-3">
                                    <p class="mr-2">Смотреть все отзывы</p> 
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 place-self-center">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"></path></svg>
                                </div>
                            </div>
                            <div class="flex h-full justify-end mt-4">
                                <a href="{{url}}">
                                <button class="md:hidden bg-gray-900 hover:bg-gray-700 duration-100 ease-out rounded-full py-2 px-6 text-gray-200 flex place-self-end relative">Перейти на сайт
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 ml-2 place-self-center">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path>
                                    </svg>
                                </button>
                                </a>
                            </div>
                        </div>
                        
                    </div>
                    


               
                    <div class="grid md:grid-cols-2 grid-rows-1">
                        <div class="bg-white shadow-xl rounded-xl p-4 mx-4 mb-4">
                            
                                <span class="uppercase text-gray-400 text-sm mb-2 tracking-wide">Проблемы с доступом?</span> 
                                <form class="m-4" method="post" action="/add_report&{{slug}}/" enctype=multipart/form-data>
                                    {% csrf_token %}
                                    
                                     <select class="my-4 text-gray-600" name="type" id="">
                                        <option value=" ">Выберете проблему</option>
                                        <option value="connection">Подключение к сервису</option>
                                        <option value="login">Вход/регистрация</option>
                                    </select></p>
                                    <p class="text-gray-600">Сообщение:<br> <input class="my-4 h-32 max-h-40 min-h-24 rounded-md border border-gray-200 w-full placeholder:m-0" name="message" placeholder="Введите сообщение"/></p>
                                    {% comment %} <input type="submit" value="Отправить"/>
                                    <input type="hidden" name="next" value="{{ next }}"/> {% endcomment %}

                                    <div class=" col-span-3 flex justify-end">
                                        <button class="bg-gray-900 hover:bg-gray-700 duration-100 ease-out rounded-full py-2 px-6 text-gray-200 flex place-self-center relative">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2 place-self-center">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"></path>
                                            </svg>              
                                        Сообщить о проблеме
                                        </button>
                                    </div>
                                </form>
                            
                        </div>
                        
                        <div class="bg-white shadow-xl  rounded-xl p-4 mx-4 mb-4">
                            <span class="uppercase text-gray-400 text-sm mb-2 tracking-wide">График</span> 
                            <div id="chart" class="mx-4 h-64 w-auto"></div>
                            <span class="uppercase text-gray-400 text-sm tracking-wide">Текущий статус</span> 
                            <div class="shrink flex mt-1">
                                <div class="flex">
                                    <div class="bg-[{{color}}] rounded-full w-2 h-2 place-self-center mr-2">

                                    </div> 
                                        <span class="font-medium text-[{{color}}]"> {{info_status}} 

                                        </span>
                                    </div> 
                                    <div class="grow flex justify-end">
                                        <span class="text-gray-400">12 минут назад

                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
           
                    </div>    
                
                
            <div class="shrink flex w-full">
                <!-- Футер -->
            </div>       
        </div>
        <div class="grow h-full"></div>        
    </div>
  
  </body>























    Тестовая страница рендера сервиса
    {{url}}
    <br>
    Рейтинг - {{score}}
    
    <img class="" width="100" src="{{image}}">
    {%if not subscribe_exist%}
    <a href="/add_subscribe&{{slug}}">Добавить в избранное</a>
    {%else%}
    Уже добавлено в избраное
    <a href="/delete_subscribe&{{slug}}">Удалить из избранного</a>
    {%endif%}
    <div class="div">
        <h3>У меня недоступен ресурс</h3>
        <form method="post" action="/add_report&{{slug}}/" enctype=multipart/form-data>
            {% csrf_token %}
            {{error}}
            <p>Выберете проблему:<br> <select name="type" id="">
                <option value=" ">---Выберете проблему---</option>
                <option value="connection">Подключение к сервису</option>
                <option value="login">Вход/регистрация</option>
            </select></p>
            <p>Сообщение:<br> <input name="message" placeholder="Необязательное поле "/></p>
            <input type="submit" value="Отправить"/>
            <input type="hidden" name="next" value="{{ next }}"/>
        </form>
        
    </div>
    {%if please_login%}
    Зарегистрируйтесь
    {%endif%}


    <div class="flex place-content-center">
        
        {{info_status}}
        <script>
            window.onload = function () {
            
            
            var chart = new CanvasJS.Chart("chart", {
                animationEnabled: true,
                
                title:{
                    text: "{{item.1.name}}"
                },
                axisX:{
                    valueFormatString: "DD MMM hh:mm:ss",
                    labelAngle: -20,
                    gridThickness: 0.2,
                },
                axisY: {
                    title: "",
                    gridThickness: 0.2,
                    scaleBreaks: {
                        autoCalculate: true
                    }
                },
                data: [{
                    type: "spline",
                    fillOpacity: .2, 
                    xValueFormatString: "DD MMM  hh:mm:ss",
                    color: "{{color}}",
                    dataPoints: [
                    {%for i in all_info%}
                        { x: new Date(Date.UTC({{i.year}}, {{i.month}}-1, {{i.day}}, {{i.hour}}, {{i.minute}}, {{i.second}})), y: {{i.y}} },
                    {%endfor%}
                    ]
                }]
            });
            chart.render();
            
            }
        </script>
    </div>

    
    <div class="div">
        <h3>Оставить отзыв</h3>
        <form method="post" action="/add_feedback&{{slug}}/" enctype=multipart/form-data>
            {% csrf_token %}
            {{error}}
            <p><br>
                <input type="radio" id="1" name="feedback" value="1">
                <label for="1">1</label>
                <input type="radio" id="2" name="feedback" value="2">
                <label for="2">2</label>
                <input type="radio" id="3" name="feedback" value="3">
                <label for="3">3</label>
                <input type="radio" id="4" name="feedback" value="4">
                <label for="4">4</label>
                <input type="radio" id="5" name="feedback" value="5">
                <label for="5">5</label>
            </p>
            {% if user.is_authenticated and user.is_confirmed%}
            <p>Сообщение:<br> <input name="feedback_message" placeholder="Оставьте отзыв"/></p>
            <input type="submit" value="Отправить"/>
            <input type="hidden" name="next" value="{{ next }}"/>
            {%else%}
            <a class="underline underline-offset-1" href="/login/">Войдите</a>, чтобы оставить отзыв
            {%endif%}
        </form>
    </div>
    <br>
    <div>
        <p>Отзывы. Всего - {{feedback_number}} отзывов(-а)</p>  
        {%for feedback in feedbacks%}
        {{feedback.users_name}} - {{feedback.message}} -{{feedback.rate}}
        <br>
        {%endfor%}

    </div>
           

</html>